
<!DOCTYPE html>
<html lang="zh-CN" xmlns:wb="http://open.weibo.com/wb">
  <head profile="http://gmpg.org/xfn/11">
    <meta charset="utf-8">
    <title>载入 jQuery 库的最佳方法</title>
    <meta name="description" content="载入 jQuery 库的最佳方法">
    <meta name="keywords" content="jQuery">
    <meta name="author" content="STUDY LEARN">
    <meta name="wumiiVerification" content="5e61b30c-07ae-45a9-8a2d-dc7b52683aa3" />
    <meta name="ujianVerification" content="10497f60005071e8ef216ef19a1b4ca5" />
    <link rel="alternate" title="STUDY LEARN" href="/atom.xml" type="application/rss+xml" />

    <!-- Le styles -->
    <link href="/mjj/assets/themes/twitter/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="/mjj/assets/themes/twitter/css/style.css?body=1" rel="stylesheet" media="all" />
    
    <link rel="index" title="STUDY LEARN" href="http://localhost:4000/mjj/" />
    
    <link rel="prev" href="http://localhost:4000/mjj//html/2013/09/15/html-diagonal.html" title="html中/，没有斜杆，//的区别" />
    
    
    <link rel="next" href="http://localhost:4000/mjj//jekyll/2013/09/15/jekyll-server-cannot-load-such-file-posix-spawn-ext.html" title="jekyll server报cannot load such file -- posix_spawn_ext (LoadError)" />
    
    
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="http://localhost:4000/mjj/">STUDY LEARN</a>
          <ul class="nav">
            <li><a href="http://localhost:4000/mjj/categories.html">目录</a></li>
          </ul>
          <ul>
<form action="http://google.com/search" method="get" _lpchecked="1">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:maijunjin.github.com">
    <input class="search" type="text" name="q" results="0" placeholder="Search">
  </fieldset>
</form>

          </ul>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="content">
     	

    <link href="http://localhost:4000/mjj//assets/css/jquery.tocify.css" rel="stylesheet">

<div class="page-header">
  <h1>载入 jQuery 库的最佳方法 <small></small></h1>
</div>
<div class="row-fluid">
  <div class="span8">  
    <div id="article">
    <p><a href="http://lightcss.com/best-way-to-include-jquery/">原文</a>
在网站开发的项目中使用Google CDN的jQuery库虽然加载速度很快，但调用本地服务器的库才可以确保万无一失。</p>

<H1>使用方法</H1>


<p>使用下面的代码可以在Google CDN库获取失败时载入本地jQuery库：</p>

<pre><code>&lt;script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;window.jQuery || document.write('&lt;script type="text/javascript" src="/js/libs/jquery.min.js"&gt;&lt;\/script&gt;')&lt;/script&gt;
</code></pre>

<p>在WordPress主题中使用的方法为：</p>

<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>


<p><script type="text/javascript">window.jQuery || document.write('<script type="text/javascript" src="<?php echo get_template_directory_uri(); ?>/jquery.min.js">&lt;\/script>')</script>
注意事项</p>

<p>因为开头提到的原因，所以建议下载一份 jQuery 官方的 min 库 放到 WordPress 当前使用的主题目录下调用，不要使用 wp-includes 里面的库。
Google CDN 库的地址采用了协议相对路径，它可以很好的解决 https 引起的一些问题，具体可以看 Paul Irish 的介绍，当然你依旧可以使用带「http:」的路径。
许多网站都采用 Google CDN 提供的 jQuery 库，使用它可以得到出色的缓存效果。
把 jQuery 代码统统放到页面底部可以提高载入速度。
使用 HTML5 重构的页面可省略掉 type="text/javascript"。
使用SAE开发者资源</p>

<p>由于 Google 服务在国内缺乏稳定性，为了稳妥，使用 SAE 的开发者资源是个省流量又提高速度的好方法。SAE 为新浪为其应用提供的开发者资源，其中就有 jQuery 库。使用的话非常简单，只要到 SAE 开发者中心 找到合适的地址并替换掉上面代码的 Google CDN 地址即可。例如：</p>

<p><script type="text/javascript" src="//lib.sinaapp.com/js/jquery/1.9.0/jquery.min.js"></script>
<script type="text/javascript">window.jQuery || document.write('<script type="text/javascript" src="/js/libs/jquery.min.js">&lt;\/script>')</script>
2011.05.25：由于目前 Google 的不稳定，而国内没有好的同类服务，故这已不是最优方案。当然，你把 Google 库路径换成国内稳定且快速的路径（如果存在），依然可以受用此方法带来的各种好处。
2011.06.23：根据 LOO2K 提醒，更新了 SAE 方案。</p>
    
    </div>  
    <div>
		   
			   上一篇： <a href="http://localhost:4000/mjj//html/2013/09/15/html-diagonal.html">html中/，没有斜杆，//的区别</a><br/>
		   
			    
			 
				下一篇： <a href="http://localhost:4000/mjj//jekyll/2013/09/15/jekyll-server-cannot-load-such-file-posix-spawn-ext.html">jekyll server报cannot load such file -- posix_spawn_ext (LoadError)</a>
			 
	  </div>
    <hr/>
  <script type="text/javascript" id="wumiiRelatedItems"></script>
<script type="text/javascript">
    var wumiiPermaLink = ""; //请用代码生成文章永久的链接
    var wumiiTitle = ""; //请用代码生成文章标题
    var wumiiTags = ""; //请用代码生成文章标签，以英文逗号分隔，如："标签1,标签2"
    var wumiiCategories = []; //请用代码生成文章分类，分类名放在 JSONArray 中，如: ["分类1", "分类2"]
    var wumiiSitePrefix = "http://maijunjin.github.io/mjj/";
    var wumiiParams = "&num=5&mode=2&pf=JAVASCRIPT";
</script>
<script type="text/javascript" src="http://widget.wumii.cn/ext/relatedItemsWidget"></script>
<a href="http://www.wumii.com/widget/relatedItems" style="border:0;">
    <img src="http://static.wumii.cn/images/pixel.png" alt="无觅关联推荐，快速提升流量" style="border:0;padding:0;margin:0;" />
</a>  
    <hr>
<!-- Duoshuo Comment BEGIN -->
	<div class="ds-thread"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"hnghnx"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		|| document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- Duoshuo Comment END -->
<!-- Duoshuo Comment END -->
  </div>
  
  <aside class="span4">
     <div class="span3">
       <div id="toc"  style="max-height:60%;width:18%">
       </div><!--/.well -->
     </div><!--/span-->

  </aside>

</div>
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="http://localhost:4000/mjj//assets/js/jquery-1.8.3.min.js"></script>
    <script src="http://localhost:4000/mjj//assets/js/jquery-ui-1.9.1.custom.min.js"></script>
    <script src="http://localhost:4000/mjj//assets/js/bootstrap.js"></script>
    <script src="http://localhost:4000/mjj//assets/js/jquery.tocify.js"></script>
    <script src="http://localhost:4000/mjj//assets/js/prettify.js"></script>

    <script>
        $(function() {

            var toc = $("#toc").tocify({ selectors: "h2,h3,h4,h5,h6" }).data("toc-tocify");

            prettyPrint();
            $(".optionName").popover({ trigger: "hover" });

        });
    </script>



      </div>

    </div> <!-- /container -->

    
  </body>
</html>

